---
title: vim基本操作
abbrlink: 6595f1f0
---
> Vim 是 Linux 系统上的最著名的文本/代码编辑器，也是早年的 Vi 编辑器的加强版，而 gVim 则是其 Windows 版。它的最大特色是完全使用键盘命令进行编辑，脱离了鼠标操作虽然使得入门变得困难，但上手之后键盘流的各种巧妙组合操作却能带来极为大幅的效率提升。因此 Vim 和现代的编辑器（如 Sublime Text）有着非常巨大的差异，而且入门学习曲线陡峭，需要记住很多按键组合和命令，如今被看作是高手、Geek们专用的编辑器。尽管 Vim 已经是古董级的软件，但还是有无数新人迎着困难去学习使用，可见其经典与受欢迎程度。另外，由于 Vim 的可配置性非常强，各种插件、语法高亮配色方案等多不胜数，无论作为代码编辑器或是文稿撰写工具都非常给力……

----
<center>Vim的三种模式</center>
> 1.正常（normal）模式，缺省的编辑模式；下面如果不加特殊说明，提到的命令都直接在正常模式下输入；任何其它模式中都可以通过键盘上的 Esc 键回到正常模式。  
2.命令（command）模式，用于执行较长、较复杂的命令；在正常模式下输入“:”（一般命令）、“/”（正向搜索）或“?”（反向搜索）即可进入该模式；命令模式下的命令要输入回车键（Enter）才算完成。  
3.插入（insert）模式，输入文本时使用；在正常模式下键入“i”（insert）或“a”（append）即可进入插入模式（也有另外一些命令，如“c”，也可以进入插入模式，但这些命令有其它的作用）。  
4.可视（visual）模式，用于选定文本块；可以在正常模式下输入“v”（小写）来按字符选定，输入“V”（大写）来按行选定，或输入“Ctrl-V”来按方块选定。
选择（select）模式，与普通的 Windows 编辑器较为接近的选择文本块的方式；在以可视模式和选择模式之一选定文本块之后，可以使用“Ctrl-G”切换到另一模式——该模式很少在 Linux 上使用。

---
### 1. 基本操作
#### 1.1 编辑-->输入：

    i: 在当前光标所在字符的前面，转为输入模式；
    a: 在当前光标所在字符的后面，转为输入模式；
    o: 在当前光标所在行的下方，新建一行，并转为输入模式；
    I：在当前光标所在行的行首，转换为输入模式
    A：在当前光标所在行的行尾，转换为输入模式
    O：在当前光标所在行的上方，新建一行，并转为输入模式；
#### 1.2 输入-->编辑：

    ESC
#### 1.3 编辑-->末行：(英文输入法冒号)

    :
#### 1.4 末行-->编辑：

    ESC, ESC
注：输入模式和末行模式之间不能直接切换，默认处于编辑模式

#### 1.5 关闭文件

末行模式关闭文件
```
:q  退出
:wq 保存并退出
:q! 不保存并退出
:w 保存
:w! 强行保存
:wq --> :x
```
#### 1.6 保存文件
```
:w newfile 　此时Vi将把当前文件的内容保存到指定的newfile中。
:w! newfile 用文件的当前内容替换newfile中原有内容
```
#### 1.7 使用vim编辑多个文件
```
vim FILE1 FILE2 FILE3
:next 切换至下一个文件
:prev 切换至前一个文件
:last 切换至最后一个文件
:first 切换至第一个文件
:q退出当前文件
:qa 全部退出
```
#### 1.8 复制,粘贴与删除
```
yy|2yy 复制行
dd|2dd 删除、剪切行
p粘贴到下一行
: 1,10d 删除1行至10行。
: 1,.d 删除从第一行到光标所在行。
```
#### 1.9 快速移动
```
zz  把当前行置为屏幕正中央。
zt 把当前行置于屏幕顶端。t意为top。
zb 把当前行置于屏幕底端。b意为bottom。
gg 到文档首行
G  直接跳转到文件结尾行（这是大写G）
:58  也是直接到58行
^|$定位到行首，行尾
dG从当前行删到文档最后一行
w 下一个word
W 下一个word(跳过标点符号)
b  前一个word
e  跳到目前word的尾端
0  跳到目前行的开头
^ 跳到目前行第一个非空白字元
$  跳到行尾
```
#### 2.0 搜寻与查找
```
/application  查找application出现在第几行？
/xxxx  搜寻xxxx
#  往前搜寻目前游标所在的字(word)
*  往後搜寻目前游标所在的字(word)
fx  在目前行往后搜寻字元x
gd  跳到目前游标所在的字(word)的定义位置
```
#### 2.1 撤销与替换
```js
:16,31s/application/mei/gc  把16~31行之间的application替换为mei，并且在替换的时候给提示
:16,31s/application/mei/g    不给提示替换(c表示confirm)
u  撤销（反悔了，撤销操作）；或者:q!不保存，那么所有的操作都不保存了
<Ctrl>-R - 重做，反转撤消，即它是对撤消的撤消。
```

#### 2.1 分割视窗
````
:split  分割視窗(可加檔名順便開啟另一檔案)
:diffsplit xxx  以分割視窗和檔案xxx做比較(diff)
Ctrl-W p  跳到前一個分割視窗(在兩個分割窗來回切換)
Ctrl-W j  跳到下面的分割窗
Ctrl-W h  跳到左邊的分割窗
Ctrl-W k  跳到上面的分割窗
Ctrl-W l  跳到右邊的分割窗
```
