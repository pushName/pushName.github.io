{"pages":[{"title":"404 Not Found：该页无法显示","date":"2019-05-13T12:26:28.718Z","updated":"2019-05-13T03:03:12.015Z","comments":false,"path":"/404.html","permalink":"http://studyz.club//404.html","excerpt":"","text":""},{"title":"关于","date":"2019-05-13T12:26:28.724Z","updated":"2019-05-13T03:03:12.018Z","comments":false,"path":"about/index.html","permalink":"http://studyz.club/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"分类","date":"2019-05-13T12:26:28.695Z","updated":"2019-05-13T03:03:12.020Z","comments":false,"path":"categories/index.html","permalink":"http://studyz.club/categories/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2019-05-13T12:26:28.700Z","updated":"2019-05-13T03:03:12.023Z","comments":true,"path":"links/index.html","permalink":"http://studyz.club/links/index.html","excerpt":"","text":""},{"title":"书单","date":"2019-05-13T12:26:28.690Z","updated":"2019-05-13T09:35:35.678Z","comments":true,"path":"books/index.html","permalink":"http://studyz.club/books/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2019-05-13T12:26:28.705Z","updated":"2019-05-13T03:03:12.023Z","comments":false,"path":"repository/index.html","permalink":"http://studyz.club/repository/index.html","excerpt":"","text":""},{"title":"标签","date":"2019-05-13T12:26:28.708Z","updated":"2019-05-13T03:03:12.025Z","comments":false,"path":"tags/index.html","permalink":"http://studyz.club/tags/index.html","excerpt":"","text":""}],"posts":[{"title":"CentOS 7.4配置ssh免密登录及出现的问题","slug":"CentOS 7.4配置ssh免密登录及出现的问题","date":"2019-05-13T04:55:22.200Z","updated":"2019-05-13T05:07:55.096Z","comments":true,"path":"2019/05/13/CentOS 7.4配置ssh免密登录及出现的问题/","link":"","permalink":"http://studyz.club/2019/05/13/CentOS 7.4配置ssh免密登录及出现的问题/","excerpt":"","text":"1 配置思路通过RSA加密算生成了密钥，包括私钥和公钥，我们把公钥追加到用来认证授权的key中去。每台机器配置本地免密登录，然后将其余每台机器生成的~/.ssh/id_dsa.pub公钥内容追加到其中一台主机的authorized_keys中，然后将这台机器中包括每台机器公钥的authorized_keys文件发送到集群中所有的服务器。这样集群中每台服务器都拥有所有服务器的公钥，这样集群间任意两台机器都可以实现免密登录了。配置四台虚拟机主机： master从机： slave1从机： slave2从机： slave3这四台虚拟机可以在VMware中配置好一台后进行复制，本篇所采用的的机器已经配置完jdk注：如果机器配置不够，仅仅为了学习的话可以不用配置那么多虚拟机2 第一台机器(master)的配置注意留意命令所处的文件夹！！要不然容易出错。（.ssh目录）2.1 生成公钥和密钥12// 生成公钥和密钥ssh-keygen -t rsa2.2 把公钥文件放入授权文件中12// 把公钥文件放入授权文件中cat id_rsa.pub &gt;&gt; authorized_keys2.3 写入认证文件12// 写入认证文件scp ~/.ssh/authorized_keys slave1:~/.ssh/注意这里写的是slave1不是主机名master如果是在slave1这个节点为初始状态时（未进行任何的ssh操作之前，根目录下没有.ssh目录）此时需要手动在slave1节点上，进行一次ssh操作，如：ssh slave1然后再执行这个命令会得到3 第二台机器(node1)3.1写入公钥和密钥1ssh-keygen -t rsa3.2 同上设置12cat id_rsa.pub &gt;&gt; authorized_keysscp ~/.ssh/authorized_keys slave2:~/.ssh/此时可能会出现同上问题4 第三台机器(node2)1234//同样的设置 也会出现相同的问题 就会有相同的解决方法 此时你应该能熟练的解决这个问题了ssh-keygen -t rsacat id_rsa.pub &gt;&gt; authorized_keysscp ~/.ssh/authorized_keys slave3:~/.ssh/5 第四台机器(node3)123456ssh-keygen -t rsacat id_rsa.pub &gt;&gt; authorized_keysscp ~/.ssh/authorized_keys master:~/.ssh/scp ~/.ssh/authorized_keys slave1:~/.ssh/scp ~/.ssh/authorized_keys slave2:~/.ssh/6 免密检查12//注意自己当前所处的目录在哪cat /.ssh/known_hosts如果没有的话，比如master没有，则需要在该机器上重新执行一下ssh master命令，让其生成以上信息即可。7 在node4中测试连接8 可能出现的问题8.1 如果# ssh master出现ssh: Could not resolve hostname ./id_rsa: Name or service not known12//检查能否ping从机的IP地址ping 192.168.56.202如果能ping通说明配置是没问题的1vi /etc/hosts在hosts文件中加入IP地址和主机名，实现两者的映射关系123127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4::1 localhost localhost.localdomain localhost6 localhost6.localdomain6192.168.56.202 slave28.2 如果用ssh时 提示WARNING: POSSIBLE DNS SPOOFING DETECTED123456789101112131415161718192021@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ WARNING: POSSIBLE DNS SPOOFING DETECTED! @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@The RSA host key for www.163.net has changed,and the key for the according IP address 158.252.167.117is unknown. This could either mean thatDNS SPOOFING is happening or the IP address for the hostand its host key have changed at the same time.@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED! @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!Someone could be eavesdropping on you right now (man-in-the-middle attack)!It is also possible that the RSA host key has just been changed.The fingerprint for the RSA key sent by the remote host is11:8e:a8:b4:91:95:8b:15:82:b8:71:de:a7:c1:c0:aa.Please contact your system administrator.Add correct host key in /home/fuck/.ssh/known_hosts to get rid of this message.Offending key in /home/fuck/.ssh/known_hosts:1RSA host key for www.163.net has changed and you have requested strict checking.Host key verification failed.找到.ssh文件里的known_hosts文件12//在.ssh目录下执行删除操作然后再ssh即可rm known_hosts8.3 各虚拟机之间不能够免密登录12//在.ssh目录下将密钥拷贝到各个机器中[root@node2 .ssh]# ssh-copy-id hadoop","categories":[],"tags":[]},{"title":"Hello World","slug":"hello-world","date":"2019-05-13T02:54:12.039Z","updated":"2019-05-13T02:54:12.039Z","comments":true,"path":"2019/05/13/hello-world/","link":"","permalink":"http://studyz.club/2019/05/13/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.Quick StartCreate a new post1$ hexo new \"My New Post\"More info: WritingRun server1$ hexo serverMore info: ServerGenerate static files1$ hexo generateMore info: GeneratingDeploy to remote sites1$ hexo deployMore info: Deployment","categories":[],"tags":[]}]}