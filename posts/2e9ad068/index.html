<!DOCTYPE html><html lang="zh"><head><meta charset="utf-8"><meta name="baidu-site-verification" content="wwtMcTd8zK"><meta name="google-site-verification" content="F7nC_6_iDZGF_AxmRS2_Jyk3dV9LMmIyGsJ1-Dvo-Ko"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name="renderer" content="webkit"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=no,email=no,adress=no"><meta name="theme-color" content="#000000"><meta http-equiv="window-target" content="_top"><meta name="google-site-verification" content="true"><title>软件开发框架之spring-AOP | 阿智的博客</title><meta name="description" content="一， AOP面向切面编程  1.1 AOP需求 1.2 AOP简介 1.3 SpringAOP 1.3.1 前置通知 1.3.2 后置通知 1.3.3 返回通知 1.3.4 异常通知 1.3.5 环绕通知 1.3.6 环绕通知示例代码 1.3.7 指定切面的优先级 1.3.8 重用切入点定义 1.3.9 引入通知   1.4 用基于 XML 的配置声明切面  一， AOP面向切面编程1.1 AOP"><meta property="og:type" content="article"><meta property="og:title" content="软件开发框架之spring-AOP"><meta property="og:url" content="http://www.studyz.club/posts/2e9ad068/index.html"><meta property="og:site_name" content="阿智的个人博客"><meta property="og:description" content="一， AOP面向切面编程  1.1 AOP需求 1.2 AOP简介 1.3 SpringAOP 1.3.1 前置通知 1.3.2 后置通知 1.3.3 返回通知 1.3.4 异常通知 1.3.5 环绕通知 1.3.6 环绕通知示例代码 1.3.7 指定切面的优先级 1.3.8 重用切入点定义 1.3.9 引入通知   1.4 用基于 XML 的配置声明切面  一， AOP面向切面编程1.1 AOP"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-1-1.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-1-2.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-2-1.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-1-1.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-2.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-3.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-4.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-5.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-6.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-7.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-8.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-1-4.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-7-1.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-7-2.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-1.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-2.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-3.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-4.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-5.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-6.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-9-7.png"><meta property="og:image" content="http://www.studyz.club/posts/2e9ad068/1-3-1.png"><meta property="article:published_time" content="2019-10-18T11:27:01.277Z"><meta property="article:modified_time" content="2019-11-09T08:13:06.436Z"><meta property="article:author" content="阿智"><meta property="article:tag" content="ssm"><meta property="article:tag" content="Spring"><meta property="article:tag" content="AOP"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="http://www.studyz.club/posts/2e9ad068/1-1-1.png"><link rel="canonical" href="http://www.studyz.club/posts/2e9ad068/index.html"><link rel="alternate" href="/atom.xml" title="阿智的个人博客" type="application/atom+xml"><link rel="icon" href="/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 5.4.0"></head><body class="main-center" itemscope itemtype="http://schema.org/WebPage"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="slimContent"><div class="navbar-header"><div class="profile-block text-center"><a id="avatar" href="https://github.com/pushName" target="_blank" rel="external nofollow noopener noreferrer"><img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200"></a><h2 id="name" class="hidden-xs hidden-sm">阿智</h2><h3 id="title" class="hidden-xs hidden-sm hidden-md">BigData</h3><small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> China</small></div><div class="search" id="search-form-wrap"><form class="search-form sidebar-form"><div class="input-group"><input type="text" class="search-form-input form-control" placeholder="搜索"> <span class="input-group-btn"><button type="submit" class="search-form-submit btn btn-flat" onclick="return!1"><i class="icon icon-search"></i></button></span></div></form><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech> <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div></div><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button></div><nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation"><ul class="nav navbar-nav main-nav menu-highlight"><li class="menu-item menu-item-home"><a href="/."><i class="icon icon-home-fill"></i> <span class="menu-title">首页</span></a></li><li class="menu-item menu-item-archives"><a href="/archives"><i class="icon icon-archives-fill"></i> <span class="menu-title">归档</span></a></li><li class="menu-item menu-item-categories"><a href="/categories"><i class="icon icon-folder"></i> <span class="menu-title">分类</span></a></li><li class="menu-item menu-item-tags"><a href="/tags"><i class="icon icon-tags"></i> <span class="menu-title">标签</span></a></li><li class="menu-item menu-item-repository"><a href="/repository"><i class="icon icon-project"></i> <span class="menu-title">项目</span></a></li><li class="menu-item menu-item-books"><a href="/books"><i class="icon icon-book-fill"></i> <span class="menu-title">书单</span></a></li><li class="menu-item menu-item-links"><a href="/links"><i class="icon icon-friendship"></i> <span class="menu-title">友链</span></a></li><li class="menu-item menu-item-about"><a href="/about"><i class="icon icon-cup-fill"></i> <span class="menu-title">关于</span></a></li></ul><ul class="social-links"><li><a href="https://github.com/pushName" target="_blank" title="Github" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-github"></i></a></li><li><a href="https://weibo.com/5966656169/profile?topnav=1&wvr=6&is_all=1" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-weibo"></i></a></li><li><a href="https://twitter.com" target="_blank" title="Twitter" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-twitter"></i></a></li><li><a href="https://www.behance.net/" target="_blank" title="Behance" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-behance"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul></nav></div></header><aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar"><div class="slimContent"><div class="widget"><h3 class="widget-title">公告</h3><div class="widget-body"><div id="board"><div class="content"><p>欢迎交流与分享经验!</p></div></div></div></div><div class="widget"><h3 class="widget-title">分类</h3><div class="widget-body"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Hive/">Hive</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hive/Hadoop-Hive/">Hadoop-Hive</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/IDEA/">IDEA</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Pythong%E5%AE%9E%E6%88%98-%E4%BD%BF%E7%94%A8GUI%E6%A1%86%E6%9E%B6/">Pythong实战-使用GUI框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Pythong%E5%AE%9E%E6%88%98-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/">Pythong实战-操作数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%BA%94%E7%94%A8/">Python数据分析与应用</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%BA%94%E7%94%A8/numpy/">numpy</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Scala/">Scala</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/">hadoop</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/eclipse/">eclipse</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hbase/">hbase</a><span class="category-list-count">2</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hbase/hbase%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/">hbase基本操作</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hbase-Hive/">hbase-Hive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hbase-MapReduce/">hbase-MapReduce</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hbaseAPI/">hbaseAPI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/hdfs/">hdfs</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/mapreduce/">mapreduce</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/ssh/">ssh</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop/yarn/">yarn</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop-hive/">hadoop-hive</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hadoop-hive-DDL-DML/">hadoop-hive-DDL-DML</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hbase/">hbase-</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/markdown/">markdown</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/">mysql</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/mysql/centos7-mysql8/">centos7-mysql8</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/vim/">vim</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/win10-php%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/">win10+php环境搭建</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%86%85%E5%AD%98%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6spark/">内存计算框架spark</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93/">分布式数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6Storm/">大数据流处理框架Storm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8D%AE%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%8A%80%E6%9C%AF/">数据挖据概念与技术</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E4%B8%8E%E6%B8%85%E6%B4%97/">数据采集与清洗</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/">算法练习</a><span class="category-list-count">1</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/%E4%BA%8C%E5%8F%89%E6%A0%91/">二叉树</a><span class="category-list-count">1</span></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/">软件开发框架</a><span class="category-list-count">17</span><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/Maven%E9%A1%B9%E7%9B%AE%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE/">Maven项目本地仓库配置</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/SSM/">SSM</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/SpringMVC-REST/">SpringMVC-REST</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/SpringMVC-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA/">SpringMVC-数据输出</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/SpringMVC-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90/">SpringMVC-视图解析</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/SpringMVC-%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/">SpringMVC-请求处理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/%E5%88%A9%E7%94%A8SpringMVC%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88REST%E9%A3%8E%E6%A0%BC%E7%9A%84CRUD/">利用SpringMVC做一个符合REST风格的CRUD</a><span class="category-list-count">1</span></li></ul></li></ul></div></div><div class="widget"><h3 class="widget-title">标签</h3><div class="widget-body"><ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/" rel="tag">-hbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase-hbase-Hive/" rel="tag">-hbase - hbase-Hive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase-hbase-Mapreduce/" rel="tag">-hbase - hbase-Mapreduce</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase-hbaseAPI/" rel="tag">-hbase - hbaseAPI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase-hbase%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" rel="tag">-hbase - hbase基本操作</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hive/" rel="tag">-hive</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-MyBatis-MyBatis%E5%8A%A8%E6%80%81sql/" rel="tag">-ssm -MyBatis - MyBatis动态sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-MyBatis-MyBatis%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/" rel="tag">-ssm -MyBatis - MyBatis缓存机制</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-Spring-spring-jdbc/" rel="tag">-ssm -Spring - spring-jdbc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-Spring-spring-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/" rel="tag">-ssm -Spring - spring-事务管理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-Spring-MyBatis/" rel="tag">-ssm -Spring -MyBatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm-Spring-MyBatis%E7%9A%84%E5%85%B3%E8%81%94%E6%98%A0%E5%B0%84/" rel="tag">-ssm -Spring MyBatis的关联映射</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93-Hbase%E7%AE%80%E4%BB%8B/" rel="tag">-分布式数据库 -Hbase简介</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%8A%80%E6%9C%AF-%E5%BC%95%E8%AE%BA/" rel="tag">-数据挖掘概念与技术 -引论</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bean/" rel="tag">Bean</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop-Hive/" rel="tag">Hadoop-Hive</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDEA%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" rel="tag">IDEA常用快捷键</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Maven%E9%A1%B9%E7%9B%AE%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE/" rel="tag">Maven项目本地仓库配置</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python-numpy/" rel="tag">Python numpy</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pythong%E5%AE%9E%E6%88%98-%E4%BD%BF%E7%94%A8GUI%E6%A1%86%E6%9E%B6/" rel="tag">Pythong实战-使用GUI框架</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pythong%E5%AE%9E%E6%88%98-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">Pythong实战-操作数据库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%BA%94%E7%94%A8/" rel="tag">Python数据分析与应用</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSM/" rel="tag">SSM</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala/" rel="tag">Scala</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala%E5%AD%A6%E4%B9%A0-%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA%E5%92%8C%E5%85%A5%E9%97%A8/" rel="tag">Scala学习-环境的搭建和入门</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Scala%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" rel="tag">Scala学习基础知识</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC/" rel="tag">SpringMVC</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC-REST/" rel="tag">SpringMVC-REST</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA/" rel="tag">SpringMVC-数据输出</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90/" rel="tag">SpringMVC-视图解析</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringMVC-%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/" rel="tag">SpringMVC-请求处理</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/" rel="tag">api</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos7-mysql8/" rel="tag">centos7-mysql8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eclipse/" rel="tag">eclipse</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ha/" rel="tag">ha</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/" rel="tag">hbase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdfs/" rel="tag">hdfs</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mapreduce/" rel="tag">mapreduce</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/" rel="tag">ssh免密登录</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssm/" rel="tag">ssm</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/" rel="tag">vim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win10-php%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" rel="tag">win10+php环境搭建</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win7/" rel="tag">win7</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcount/" rel="tag">wordcount</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yarn/" rel="tag">yarn</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" rel="tag">二叉树</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%86%85%E5%AD%98%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6spark/" rel="tag">内存计算框架spark</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%A9%E7%94%A8SpringMVC%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88REST%E9%A3%8E%E6%A0%BC%E7%9A%84CRUD/" rel="tag">利用SpringMVC做一个符合REST风格的CRUD</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6Storm/" rel="tag">大数据流处理框架Storm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E4%B8%8E%E6%B8%85%E6%B4%97/" rel="tag">数据采集与清洗</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" rel="tag">数据链路层</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%A9%E7%90%86%E5%B1%82/" rel="tag">物理层</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/" rel="tag">算法练习</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C%E5%B1%82/" rel="tag">网络层</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" rel="tag">计算机网络</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" rel="tag">软件开发框架</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9B%86%E7%BE%A4%E7%9A%84%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/" rel="tag">集群的时间同步</a><span class="tag-list-count">1</span></li></ul></div></div><div class="widget"><h3 class="widget-title">标签云</h3><div class="widget-body tagcloud"><a href="/tags/hbase/" style="font-size:13px">-hbase</a> <a href="/tags/hbase-hbase-Hive/" style="font-size:13px">-hbase - hbase-Hive</a> <a href="/tags/hbase-hbase-Mapreduce/" style="font-size:13px">-hbase - hbase-Mapreduce</a> <a href="/tags/hbase-hbaseAPI/" style="font-size:13px">-hbase - hbaseAPI</a> <a href="/tags/hbase-hbase%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/" style="font-size:13px">-hbase - hbase基本操作</a> <a href="/tags/hive/" style="font-size:13.2px">-hive</a> <a href="/tags/ssm-MyBatis-MyBatis%E5%8A%A8%E6%80%81sql/" style="font-size:13px">-ssm -MyBatis - MyBatis动态sql</a> <a href="/tags/ssm-MyBatis-MyBatis%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6/" style="font-size:13px">-ssm -MyBatis - MyBatis缓存机制</a> <a href="/tags/ssm-Spring-spring-jdbc/" style="font-size:13px">-ssm -Spring - spring-jdbc</a> <a href="/tags/ssm-Spring-spring-%E4%BA%8B%E5%8A%A1%E7%AE%A1%E7%90%86/" style="font-size:13px">-ssm -Spring - spring-事务管理</a> <a href="/tags/ssm-Spring-MyBatis/" style="font-size:13px">-ssm -Spring -MyBatis</a> <a href="/tags/ssm-Spring-MyBatis%E7%9A%84%E5%85%B3%E8%81%94%E6%98%A0%E5%B0%84/" style="font-size:13px">-ssm -Spring MyBatis的关联映射</a> <a href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93-Hbase%E7%AE%80%E4%BB%8B/" style="font-size:13px">-分布式数据库 -Hbase简介</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98%E6%A6%82%E5%BF%B5%E4%B8%8E%E6%8A%80%E6%9C%AF-%E5%BC%95%E8%AE%BA/" style="font-size:13px">-数据挖掘概念与技术 -引论</a> <a href="/tags/AOP/" style="font-size:13px">AOP</a> <a href="/tags/Bean/" style="font-size:13.2px">Bean</a> <a href="/tags/Hadoop-Hive/" style="font-size:13px">Hadoop-Hive</a> <a href="/tags/IDEA%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/" style="font-size:13px">IDEA常用快捷键</a> <a href="/tags/Maven%E9%A1%B9%E7%9B%AE%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE/" style="font-size:13px">Maven项目本地仓库配置</a> <a href="/tags/Python/" style="font-size:13px">Python</a> <a href="/tags/Python-numpy/" style="font-size:13px">Python numpy</a> <a href="/tags/Pythong%E5%AE%9E%E6%88%98-%E4%BD%BF%E7%94%A8GUI%E6%A1%86%E6%9E%B6/" style="font-size:13px">Pythong实战-使用GUI框架</a> <a href="/tags/Pythong%E5%AE%9E%E6%88%98-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size:13px">Pythong实战-操作数据库</a> <a href="/tags/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B8%8E%E5%BA%94%E7%94%A8/" style="font-size:13.2px">Python数据分析与应用</a> <a href="/tags/SSM/" style="font-size:13px">SSM</a> <a href="/tags/Scala/" style="font-size:13.8px">Scala</a> <a href="/tags/Scala%E5%AD%A6%E4%B9%A0-%E7%8E%AF%E5%A2%83%E7%9A%84%E6%90%AD%E5%BB%BA%E5%92%8C%E5%85%A5%E9%97%A8/" style="font-size:13px">Scala学习-环境的搭建和入门</a> <a href="/tags/Scala%E5%AD%A6%E4%B9%A0%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/" style="font-size:13.6px">Scala学习基础知识</a> <a href="/tags/Spring/" style="font-size:13.4px">Spring</a> <a href="/tags/SpringMVC/" style="font-size:13px">SpringMVC</a> <a href="/tags/SpringMVC-REST/" style="font-size:13px">SpringMVC-REST</a> <a href="/tags/SpringMVC-%E6%95%B0%E6%8D%AE%E8%BE%93%E5%87%BA/" style="font-size:13px">SpringMVC-数据输出</a> <a href="/tags/SpringMVC-%E8%A7%86%E5%9B%BE%E8%A7%A3%E6%9E%90/" style="font-size:13px">SpringMVC-视图解析</a> <a href="/tags/SpringMVC-%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86/" style="font-size:13px">SpringMVC-请求处理</a> <a href="/tags/api/" style="font-size:13px">api</a> <a href="/tags/centos7-mysql8/" style="font-size:13px">centos7-mysql8</a> <a href="/tags/eclipse/" style="font-size:13px">eclipse</a> <a href="/tags/ha/" style="font-size:13.2px">ha</a> <a href="/tags/hadoop/" style="font-size:13.6px">hadoop</a> <a href="/tags/hbase/" style="font-size:13px">hbase</a> <a href="/tags/hdfs/" style="font-size:13.8px">hdfs</a> <a href="/tags/mapreduce/" style="font-size:13.4px">mapreduce</a> <a href="/tags/markdown/" style="font-size:13px">markdown</a> <a href="/tags/ssh%E5%85%8D%E5%AF%86%E7%99%BB%E5%BD%95/" style="font-size:13px">ssh免密登录</a> <a href="/tags/ssm/" style="font-size:13.4px">ssm</a> <a href="/tags/vim/" style="font-size:13px">vim</a> <a href="/tags/win10-php%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/" style="font-size:13px">win10+php环境搭建</a> <a href="/tags/win7/" style="font-size:13px">win7</a> <a href="/tags/wordcount/" style="font-size:13px">wordcount</a> <a href="/tags/yarn/" style="font-size:13px">yarn</a> <a href="/tags/%E4%BA%8C%E5%8F%89%E6%A0%91/" style="font-size:13px">二叉树</a> <a href="/tags/%E5%86%85%E5%AD%98%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6spark/" style="font-size:13.2px">内存计算框架spark</a> <a href="/tags/%E5%88%A9%E7%94%A8SpringMVC%E5%81%9A%E4%B8%80%E4%B8%AA%E7%AC%A6%E5%90%88REST%E9%A3%8E%E6%A0%BC%E7%9A%84CRUD/" style="font-size:13px">利用SpringMVC做一个符合REST风格的CRUD</a> <a href="/tags/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6Storm/" style="font-size:13px">大数据流处理框架Storm</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86%E4%B8%8E%E6%B8%85%E6%B4%97/" style="font-size:13px">数据采集与清洗</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" style="font-size:13px">数据链路层</a> <a href="/tags/%E7%89%A9%E7%90%86%E5%B1%82/" style="font-size:13px">物理层</a> <a href="/tags/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/" style="font-size:13px">算法练习</a> <a href="/tags/%E7%BD%91%E7%BB%9C%E5%B1%82/" style="font-size:13px">网络层</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size:13.6px">计算机网络</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" style="font-size:14px">软件开发框架</a> <a href="/tags/%E9%9B%86%E7%BE%A4%E7%9A%84%E6%97%B6%E9%97%B4%E5%90%8C%E6%AD%A5/" style="font-size:13px">集群的时间同步</a></div></div><div class="widget"><h3 class="widget-title">归档</h3><div class="widget-body"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">五月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">十二月 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">十一月 2019</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">十月 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">九月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">七月 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">六月 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">五月 2019</a><span class="archive-list-count">9</span></li></ul></div></div><div class="widget"><h3 class="widget-title">最新文章</h3><div class="widget-body"><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/">算法练习</a><i class="icon icon-angle-right"></i><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95%E7%BB%83%E4%B9%A0/%E4%BA%8C%E5%8F%89%E6%A0%91/">二叉树</a></p><p class="item-title"><a href="/posts/b7e858de/" class="title">算法练习-二叉树涂色问题</a></p><p class="item-date"><time datetime="2021-03-04T17:58:17.147Z" itemprop="datePublished">2021-03-05</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/Pythong%E5%AE%9E%E6%88%98-%E4%BD%BF%E7%94%A8GUI%E6%A1%86%E6%9E%B6/">Pythong实战-使用GUI框架</a></p><p class="item-title"><a href="/posts/855e4ddc/" class="title">Python综合项目案例开发--使用GUI框架</a></p><p class="item-date"><time datetime="2020-06-05T00:38:41.099Z" itemprop="datePublished">2020-06-05</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/Pythong%E5%AE%9E%E6%88%98-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93/">Pythong实战-操作数据库</a></p><p class="item-title"><a href="/posts/fb315820/" class="title">Python综合项目案例开发--使用Python操作数据库</a></p><p class="item-date"><time datetime="2020-05-23T08:00:55.227Z" itemprop="datePublished">2020-05-23</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%B5%81%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6Storm/">大数据流处理框架Storm</a></p><p class="item-title"><a href="/posts/7c5fe410/" class="title">大数据流处理框架--Storm</a></p><p class="item-date"><time datetime="2020-05-21T09:23:21.219Z" itemprop="datePublished">2020-05-21</time></p></div></li><li><div class="item-inner"><p class="item-category"><a class="category-link" href="/categories/%E5%86%85%E5%AD%98%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6spark/">内存计算框架spark</a></p><p class="item-title"><a href="/posts/46aea7fc/" class="title">内存计算框架--Spark编程模型</a></p><p class="item-date"><time datetime="2020-05-21T07:04:18.159Z" itemprop="datePublished">2020-05-21</time></p></div></li></ul></div></div></div></aside><main class="main" role="main"><div class="content"><article id="post-软件开发框架之Spring-AOP" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting"><div class="article-header"><h1 class="article-title" itemprop="name">软件开发框架之spring-AOP</h1><div class="article-meta"><span class="article-date"><i class="icon icon-calendar-check"></i> <a href="/posts/2e9ad068/" class="article-date"><time datetime="2019-10-18T11:27:01.277Z" itemprop="datePublished">2019-10-18</time> </a></span><span class="article-category"><i class="icon icon-folder"></i> <a class="article-category-link" href="/categories/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/">软件开发框架</a> </span><span class="article-tag"><i class="icon icon-tags"></i> <a class="article-tag-link-link" href="/tags/AOP/" rel="tag">AOP</a>, <a class="article-tag-link-link" href="/tags/Spring/" rel="tag">Spring</a>, <a class="article-tag-link-link" href="/tags/ssm/" rel="tag">ssm</a> </span><span class="article-read hidden-xs"><i class="icon icon-eye-fill" aria-hidden="true"></i> <span id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span> </span></span><span class="post-comment"><i class="icon icon-comment"></i> <a href="/posts/2e9ad068/#comments" class="article-comment-link">评论</a></span> <span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 7.6k(字)</span> <span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 36(分)</span></div></div><div class="article-entry marked-body" itemprop="articleBody"><p><a href="#1">一， AOP面向切面编程</a></p><ul><li><a href="#1.1">1.1 AOP需求</a></li><li><a href="#1.2">1.2 AOP简介</a></li><li><a href="#13">1.3 SpringAOP</a><ul><li><a href="#1.3.1">1.3.1 前置通知</a></li><li><a href="#1.3.2">1.3.2 后置通知</a></li><li><a href="#1.3.3">1.3.3 返回通知</a></li><li><a href="#1.3.4">1.3.4 异常通知</a></li><li><a href="#1.3.5">1.3.5 环绕通知</a></li><li><a href="#1.3.6">1.3.6 环绕通知示例代码</a></li><li><a href="#1.3.7">1.3.7 指定切面的优先级</a></li><li><a href="#1.3.8">1.3.8 重用切入点定义</a></li><li><a href="#1.3.9">1.3.9 引入通知</a></li></ul></li><li><a href="#1.4">1.4 用基于 XML 的配置声明切面</a></li></ul><h3 id="一，-AOP面向切面编程"><a href="#一，-AOP面向切面编程" class="headerlink" title="一， AOP面向切面编程"></a><h id="1">一， AOP面向切面编程</h></h3><h4 id="1-1-AOP需求"><a href="#1-1-AOP需求" class="headerlink" title="1.1 AOP需求"></a><h id="1.1">1.1 AOP需求</h></h4><h5 id="为什么需要AOP"><a href="#为什么需要AOP" class="headerlink" title="为什么需要AOP"></a>为什么需要AOP</h5><p><img src="/posts/2e9ad068/1-1-1.png"></p><ul><li>需求1-日志：在程序执行期间追踪正在发生的活动</li><li>需求2-验证：希望计算器只能处理正数的运算<br><a href="#1.1.1.1">测试实例源码</a><br>源码中用于输出日志的语句多且重复，维护不方便</li></ul><blockquote><ul><li>代码混乱：越来越多的非业务需求(日志和验证等)加入后, <code>原有的业务方法急剧膨胀. 每个方法在处理核心逻辑的同时还必须兼顾其他多个关注点</code>.</li></ul></blockquote><ul><li>代码分散: 以日志需求为例, 只是为了满足这个单一需求, 就不得不在多个模块（方法）里多次重复相同的日志代码. <code>如果日志需求发生变化, 必须修改所有模块</code>.</li></ul><h4 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h4><h5 id="使用动态代理解决上述问题"><a href="#使用动态代理解决上述问题" class="headerlink" title="使用动态代理解决上述问题"></a>使用动态代理解决上述问题</h5><ul><li><code>代理设计模式的原理</code>: <code>使用一个代理将对象包装起来</code>, 然后用该代理对象取代原始对象. 任何对原始对象的调用都要通过代理. 代理对象决定是否以及何时将方法调用转到原始对象上.<br><img src="/posts/2e9ad068/1-1-2.png"><br><a href="#1.1.1.2">动态代理解决日志问题源码</a><code>使用动态代理可以解决这个问题但是还是有些麻烦</code></li></ul><h4 id="1-2-AOP简介"><a href="#1-2-AOP简介" class="headerlink" title="1.2 AOP简介"></a><h id="1.2">1.2 AOP简介</h></h4><ul><li>AOP(Aspect-Oriented Programming, <code>面向切面编程</code>): 是一种新的方法论, 是对传统 OOP(Object-Oriented Programming, 面向对象编程) 的补充.</li><li>AOP 的主要编程对象是<code>切面</code>(aspect), 而<code>切面模块化横切关注点</code>.</li><li>在应用 AOP 编程时, 仍然需要<code>定义公共功能</code>, 但可以明确的定义这个功能在哪里, 以什么方式应用, <code>并且不必修改受影响的类. 这样一来横切关注点就被模块化到特殊的对象(切面)</code>里.</li><li>AOP 的好处:<ul><li>每个事物逻辑位于一个位置, 代码不分散, 便于维护和升级</li><li>业务模块更简洁, 只包含核心业务代码.</li></ul></li></ul><p><img src="/posts/2e9ad068/1-2-1.png"></p><h5 id="AOP-术语"><a href="#AOP-术语" class="headerlink" title="AOP 术语"></a>AOP 术语</h5><ul><li>切面(Aspect): <code>横切关注点(跨越应用程序多个模块的功能)被模块化的特殊对象</code></li><li>通知(Advice): <code>切面必须要完成的工作</code></li><li>目标(Target): <code>被通知的对象</code></li><li>代理(Proxy): <code>向目标对象应用通知之后创建的对象</code></li><li>连接点（Joinpoint）：<code>程序执行的某个特定位置</code>：如类某个方法调用前、调用后、方法抛出异常后等。<code>连接点由两个信息确定：方法表示的程序执行点；相对点表示的方位</code>。例如 ArithmethicCalculator#add() 方法执行前的连接点，执行点为 ArithmethicCalculator#add()； 方位为该方法执行前的位置</li><li>切点（pointcut）：<code>每个类都拥有多个连接点</code>：例如 ArithmethicCalculator 的所有方法实际上都是连接点，即连接点是程序类中客观存在的事务。<code>AOP 通过切点定位到特定的连接点。类比：连接点相当于数据库中的记录，切点相当于查询条件</code>。切点和连接点不是一对一的关系，一个切点匹配多个连接点，切点通过 org.springframework.aop.Pointcut 接口进行描述，它使用类和方法作为连接点的查询条件。</li></ul><h4 id="1-3-SpringAOP"><a href="#1-3-SpringAOP" class="headerlink" title="1.3 SpringAOP"></a><h id="1.3">1.3 SpringAOP</h></h4><blockquote><ul><li><code>AspectJ</code>：Java 社区里最完整最流行的 AOP 框架.</li></ul></blockquote><ul><li>在 Spring2.0 以上版本中, 可以使用基于 AspectJ 注解或基于 XML 配置的 AOP</li></ul><h5 id="在-Spring-中启用-AspectJ-注解支持"><a href="#在-Spring-中启用-AspectJ-注解支持" class="headerlink" title="在 Spring 中启用 AspectJ 注解支持"></a>在 Spring 中启用 AspectJ 注解支持</h5><ul><li>要在 Spring 应用中使用 AspectJ 注解, <code>必须在 classpath 下包含 AspectJ 类库</code>: aopalliance.jar、aspectj.weaver.jar 和 spring-aspects.jar</li><li><code>将 aop Schema 添加到 &lt;beans&gt; 根元素中</code>.</li><li>要在 Spring IOC 容器中启用 AspectJ 注解支持, 只要在<code>Bean 配置文件中定义一个空的 XML 元素 &lt;aop:aspectj-autoproxy&gt;</code></li><li>当 Spring IOC 容器侦测到 Bean 配置文件中的 <a href="aop:aspectj-autoproxy" rel="external nofollow noopener noreferrer" target="_blank">aop:aspectj-autoproxy</a> 元素时, 会自动为与 AspectJ 切面匹配的 Bean 创建代理.</li></ul><p><a href="#1.1.1.3">在 Spring 中启用 AspectJ 注解支持,前置通知及后置通知源码</a></p><h5 id="用-AspectJ-注解声明切面"><a href="#用-AspectJ-注解声明切面" class="headerlink" title="用 AspectJ 注解声明切面"></a>用 AspectJ 注解声明切面</h5><ul><li><code>要在 Spring 中声明 AspectJ 切面, 只需要在 IOC 容器中将切面声明为 Bean 实例.</code> 当在 Spring IOC 容器中初始化 AspectJ 切面之后, Spring IOC 容器就会为那些与 AspectJ 切面相匹配的 Bean 创建代理.</li><li><code>在 AspectJ 注解中, 切面只是一个带有 @Aspect 注解的 Java 类.</code></li><li><code>通知是标注有某种注解的简单的 Java 方法.</code></li><li>AspectJ 支持 5 种类型的通知注解:<ul><li><code>@Before</code>: 前置通知, 在方法执行之前执行</li><li><code>@After</code>: 后置通知, 在方法执行之后执行</li><li><code>@AfterRunning</code>: 返回通知, 在方法返回结果之后执行</li><li><code>@AfterThrowing</code>: 异常通知, 在方法抛出异常之后</li><li><code>@Around</code>: 环绕通知, 围绕着方法执行</li></ul></li></ul><h4 id="1-3-1-前置通知"><a href="#1-3-1-前置通知" class="headerlink" title="1.3.1 前置通知"></a><h id="1.3.1">1.3.1 前置通知</h></h4><p><img src="/posts/2e9ad068/1-3-1-1.png"></p><h4 id="利用方法签名编写-AspectJ-切入点表达式"><a href="#利用方法签名编写-AspectJ-切入点表达式" class="headerlink" title="利用方法签名编写 AspectJ 切入点表达式"></a>利用方法签名编写 AspectJ 切入点表达式</h4><p><img src="/posts/2e9ad068/1-3-2.png"></p><h4 id="合并切入点表达式"><a href="#合并切入点表达式" class="headerlink" title="合并切入点表达式"></a>合并切入点表达式</h4><p><img src="/posts/2e9ad068/1-3-3.png"></p><h4 id="让通知访问当前连接点的细节"><a href="#让通知访问当前连接点的细节" class="headerlink" title="让通知访问当前连接点的细节"></a>让通知访问当前连接点的细节</h4><p><img src="/posts/2e9ad068/1-3-4.png"></p><h4 id="1-3-2-后置通知"><a href="#1-3-2-后置通知" class="headerlink" title="1.3.2 后置通知"></a><h id="1.3.2">1.3.2 后置通知</h></h4><p><img src="/posts/2e9ad068/1-3-5.png"></p><h3 id="返回通知，异常那通知，后置通知源码"><a href="#返回通知，异常那通知，后置通知源码" class="headerlink" title="返回通知，异常那通知，后置通知源码"></a><a href="#1.1.1.4">返回通知，异常那通知，后置通知源码</a></h3><h4 id="1-3-3-返回通知"><a href="#1-3-3-返回通知" class="headerlink" title="1.3.3 返回通知"></a><h id="1.3.3">1.3.3 返回通知</h></h4><p><img src="/posts/2e9ad068/1-3-6.png"></p><h3 id="返回通知，异常那通知，后置通知源码-1"><a href="#返回通知，异常那通知，后置通知源码-1" class="headerlink" title="返回通知，异常那通知，后置通知源码"></a><a href="#1.1.1.4">返回通知，异常那通知，后置通知源码</a></h3><h4 id="在返回通知中访问连接点的返回值"><a href="#在返回通知中访问连接点的返回值" class="headerlink" title="在返回通知中访问连接点的返回值"></a>在返回通知中访问连接点的返回值</h4><p><img src="/posts/2e9ad068/1-3-7.png"></p><h4 id="1-3-4-异常通知"><a href="#1-3-4-异常通知" class="headerlink" title="1.3.4 异常通知"></a><h id="1.3.4">1.3.4 异常通知</h></h4><p><img src="/posts/2e9ad068/1-3-8.png"></p><h3 id="返回通知，异常那通知，后置通知源码-2"><a href="#返回通知，异常那通知，后置通知源码-2" class="headerlink" title="返回通知，异常那通知，后置通知源码"></a><a href="#1.1.1.4">返回通知，异常那通知，后置通知源码</a></h3><h4 id="1-3-5-环绕通知"><a href="#1-3-5-环绕通知" class="headerlink" title="1.3.5 环绕通知"></a><h id="1.3.5">1.3.5 环绕通知</h></h4><p><img src="/posts/2e9ad068/1-3-9.png"></p><h4 id="1-3-6-环绕通知示例代码"><a href="#1-3-6-环绕通知示例代码" class="headerlink" title="1.3.6 环绕通知示例代码"></a><h id="1.3.6">1.3.6 环绕通知示例代码</h></h4><p><img src="/posts/2e9ad068/1-3-1-4.png"></p><h3 id="返回通知，异常那通知，后置通知源码-3"><a href="#返回通知，异常那通知，后置通知源码-3" class="headerlink" title="返回通知，异常那通知，后置通知源码"></a><a href="#1.1.1.4">返回通知，异常那通知，后置通知源码</a></h3><h4 id="1-3-7-指定切面的优先级"><a href="#1-3-7-指定切面的优先级" class="headerlink" title="1.3.7 指定切面的优先级"></a><h id="1.3.7">1.3.7 指定切面的优先级</h></h4><ul><li>在同一个连接点上应用不止一个切面时, 除非明确指定, 否则它们的优先级是不确定的.</li><li>切面的优先级可以通过实现 Ordered 接口或利用 @Order 注解指定.</li><li>实现 Ordered 接口, getOrder() 方法的返回值越小, 优先级越高.</li><li>若使用 @Order 注解, 序号出现在注解中</li></ul><p><img src="/posts/2e9ad068/1-3-7-1.png"><br><a href="#1.1.1.4">指定切面优先级源码</a></p><h4 id="1-3-8-重用切入点定义"><a href="#1-3-8-重用切入点定义" class="headerlink" title="1.3.8 重用切入点定义"></a><h id="1.3.8">1.3.8 重用切入点定义</h></h4><ul><li>在编写 AspectJ 切面时, 可以直接在通知注解中书写切入点表达式. 但同一个切点表达式可能会在多个通知中重复出现.</li><li>在 AspectJ 切面中, 可以<code>通过 @Pointcut 注解将一个切入点声明成简单的方法. 切入点的方法体通常是空的</code>, 因为将切入点定义与应用程序逻辑混在一起是不合理的.</li><li><code>切入点方法的访问控制符同时也控制着这个切入点的可见性</code>. 如果切入点要在多个切面中共用, 最好将它们集中在一个公共的类中. 在这种情况下, 它们必须被声明为 public. 在引入这个切入点时, 必须将类名也包括在内. 如果类没有与这个切面放在同一个包中, 还必须包含包名.</li><li>其他通知可以通过方法名称引入该切入点.</li></ul><h4 id="重用切入点定义示例代码"><a href="#重用切入点定义示例代码" class="headerlink" title="重用切入点定义示例代码"></a>重用切入点定义示例代码</h4><p><img src="/posts/2e9ad068/1-3-7-2.png"><br><a href="#1.1.1.6">重用切入点源码</a></p><h4 id="1-3-9-引入通知"><a href="#1-3-9-引入通知" class="headerlink" title="1.3.9 引入通知"></a><h id="1.3.9">1.3.9 引入通知</h></h4><ul><li><p>引入通知是一种特殊的通知类型. 它通过为接口提供实现类, 允许对象动态地实现接口, 就像对象已经在运行时扩展了实现类一样.<br><img src="/posts/2e9ad068/1-3-9-1.png"></p></li><li><p>引入通知可以使用两个实现类 MaxCalculatorImpl 和 MinCalculatorImpl, 让 ArithmeticCalculatorImpl 动态地实现 MaxCalculator 和 MinCalculator 接口. 而这与从 MaxCalculatorImpl 和 MinCalculatorImpl 中实现多继承的效果相同. 但却不需要修改 ArithmeticCalculatorImpl 的源代码</p></li><li><p>引入通知也必须在切面中声明</p></li><li><p>在切面中, 通过为<code>任意字段</code>添加<code>@DeclareParents</code> 注解来引入声明.</p></li><li><p>注解类型的 <code>value</code> 属性表示哪些类是当前引入通知的目标. value 属性值也可以是一个 AspectJ 类型的表达式, 以将一个即可引入到多个类中. <code>defaultImpl</code> 属性中指定这个接口使用的实现类</p></li></ul><h4 id="引入通知示例代码"><a href="#引入通知示例代码" class="headerlink" title="引入通知示例代码"></a>引入通知示例代码</h4><p><img src="/posts/2e9ad068/1-3-9-2.png"><br><img src="/posts/2e9ad068/1-3-9-3.png"></p><h4 id="1-4-用基于-XML-的配置声明切面"><a href="#1-4-用基于-XML-的配置声明切面" class="headerlink" title="1.4 用基于 XML 的配置声明切面"></a><h id="1.4">1.4 用基于 XML 的配置声明切面</h></h4><ul><li>除了使用 AspectJ 注解声明切面, Spring 也支持在 Bean 配置文件中声明切面. 这种声明是通过 aop schema 中的 XML 元素完成的.</li><li>正常情况下, <code>基于注解的声明要优先于基于 XML 的声明</code>. 通过 AspectJ 注解, 切面可以与 AspectJ 兼容, 而基于 XML 的配置则是 Spring 专有的. 由于 AspectJ 得到越来越多的 AOP 框架支持, 所以以注解风格编写的切面将会有更多重用的机会.</li></ul><h4 id="基于XML—-声明切面"><a href="#基于XML—-声明切面" class="headerlink" title="基于XML—- 声明切面"></a>基于XML—- 声明切面</h4><h5 id="XML"><a href="#XML" class="headerlink" title="XML"></a>XML</h5><ul><li>当使用 XML 声明切面时, 需要在<code>&lt;beans&gt;</code>根元素中导入 aop Schema</li><li>在 Bean 配置文件中, 所有的 Spring AOP 配置都必须定义在 <code>&lt;aop:config&gt;</code> 元素内部. 对于每个切面而言, 都要创建一个 <code>&lt;aop:aspect&gt;</code> 元素来为具体的切面实现引用后端 Bean 实例.</li><li>切面 Bean 必须有一个标示符, 供 <code>&lt;aop:aspect&gt;</code>元素引用<br><img src="/posts/2e9ad068/1-3-9-4.png"></li></ul><h5 id="切入点"><a href="#切入点" class="headerlink" title="切入点"></a>切入点</h5><ul><li>切入点使用<code>&lt;aop:pointcut&gt;</code>元素声明</li><li>切入点必须定义在 <code>&lt;aop:aspect&gt;</code> 元素下, 或者直接定义在 <code>&lt;aop:config&gt;</code> 元素下.<ul><li>定义在 <code>&lt;aop:aspect&gt;</code> 元素下: 只对当前切面有效</li><li>定义在 <code>&lt;aop:config&gt;</code> 元素下: 对所有切面都有效</li></ul></li><li>基于 XML 的 AOP 配置不允许在切入点表达式中用名称引用其他切入点.<br><img src="/posts/2e9ad068/1-3-9-5.png"></li></ul><h4 id="基于XML—-声明通知"><a href="#基于XML—-声明通知" class="headerlink" title="基于XML—-声明通知"></a>基于XML—-声明通知</h4><ul><li>在 aop Schema 中, 每种通知类型都对应一个特定的 XML 元素.</li><li>通知元素需要使用 <code>&lt;pointcut-ref&gt;</code> 来引用切入点, 或用 <code>&lt;pointcut&gt;</code> 直接嵌入切入点表达式. method 属性指定切面类中通知方法的名称.<br><img src="/posts/2e9ad068/1-3-9-6.png"></li></ul><h4 id="声明引入"><a href="#声明引入" class="headerlink" title="声明引入"></a>声明引入</h4><ul><li>可以利用 <code>&lt;aop:declare-parents&gt;</code> 元素在切面内部声明引入<br><img src="/posts/2e9ad068/1-3-9-7.png"></li></ul><h2 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h2><h4 id="AOP需求"><a href="#AOP需求" class="headerlink" title="AOP需求"></a><h id="1.1.1.1">AOP需求</h></h4><h5 id="创建接口AtithmeticCalculator-java"><a href="#创建接口AtithmeticCalculator-java" class="headerlink" title="创建接口AtithmeticCalculator.java"></a>创建接口AtithmeticCalculator.java</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">public interface AtithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	int add(int i,int j);</span><br><span class="line">	int sub(int i,int j);</span><br><span class="line">	int mul(int i,int j);</span><br><span class="line">	int div(int i,int j);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="对接口进行实例化AtithmeticCalculatorImpl-java"><a href="#对接口进行实例化AtithmeticCalculatorImpl-java" class="headerlink" title="对接口进行实例化AtithmeticCalculatorImpl.java"></a>对接口进行实例化AtithmeticCalculatorImpl.java</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">public class AtithmeticCalculatorImpl implements AtithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int add(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;日志：The method add begins with [&quot; + i + &quot;,&quot;+j+ &quot;] &quot;);&#x2F;&#x2F;日志代码</span><br><span class="line">		int result &#x3D; i+j;</span><br><span class="line">		System.out.println(&quot;日志：The method add ends with &quot;+ result);</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int sub(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;日志：The method sub begins with [&quot; + i + &quot;,&quot;+j+ &quot;] &quot;);</span><br><span class="line"></span><br><span class="line">		int result &#x3D; i-j;</span><br><span class="line">		System.out.println(&quot;日志：The method sub ends with &quot;+ result);</span><br><span class="line"></span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int mul(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;日志：The method mul begins with [&quot; + i + &quot;,&quot;+j+ &quot;] &quot;);</span><br><span class="line"></span><br><span class="line">		int result &#x3D; i*j;</span><br><span class="line">		System.out.println(&quot;日志：The method mul ends with &quot;+ result);</span><br><span class="line"></span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int div(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		System.out.println(&quot;日志：The method div begins with [&quot; + i + &quot;,&quot;+j+ &quot;] &quot;);</span><br><span class="line"></span><br><span class="line">		int result &#x3D; i&#x2F;j;</span><br><span class="line">		System.out.println(&quot;日志：The method div ends with &quot;+ result);</span><br><span class="line"></span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="编写测试主方法Main，java"><a href="#编写测试主方法Main，java" class="headerlink" title="编写测试主方法Main，java"></a>编写测试主方法Main，java</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		AtithmeticCalculator atithmeticCalculator &#x3D; new AtithmeticCalculatorImpl();</span><br><span class="line">		int result &#x3D; atithmeticCalculator.add(1, 2);</span><br><span class="line">		System.out.println(&quot;--&gt;&quot;+ result);</span><br><span class="line">		atithmeticCalculator.div(4, 2);</span><br><span class="line">		System.out.println(&quot;--&gt;&quot;+ result);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="测试结果"><a href="#测试结果" class="headerlink" title="测试结果"></a>测试结果</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">日志：The method add begins with [1,2]</span><br><span class="line">日志：The method add ends with 3</span><br><span class="line">--&gt;3</span><br><span class="line">日志：The method div begins with [4,2]</span><br><span class="line">日志：The method div ends with 2</span><br><span class="line">--&gt;3</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="动态代理方式处理日志问题"><a href="#动态代理方式处理日志问题" class="headerlink" title="动态代理方式处理日志问题"></a><h id="1.1.1.2">动态代理方式处理日志问题</h></h3><h4 id="创建上一个接口的实现类ArithmeticCalculatorLoggingImpl-java"><a href="#创建上一个接口的实现类ArithmeticCalculatorLoggingImpl-java" class="headerlink" title="创建上一个接口的实现类ArithmeticCalculatorLoggingImpl.java"></a>创建上一个接口的实现类ArithmeticCalculatorLoggingImpl.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">public class ArithmeticCalculatorLoggingImpl implements ArithmeticCalculator &#123;</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 动态代理的方法处理日志问题</span><br><span class="line"> *&#x2F;</span><br><span class="line">	@Override</span><br><span class="line">	public int add(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i+j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int sub(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i-j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int mul(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i*j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int div(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i&#x2F;j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="动态代理文件ArithmeticCalculatorLoggingProxy-java"><a href="#动态代理文件ArithmeticCalculatorLoggingProxy-java" class="headerlink" title="动态代理文件ArithmeticCalculatorLoggingProxy.java"></a>动态代理文件ArithmeticCalculatorLoggingProxy.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">import java.lang.reflect.InvocationHandler;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.lang.reflect.Proxy;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">public class ArithmeticCalculatorLoggingProxy &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;代理的对象</span><br><span class="line">	private ArithmeticCalculator target;</span><br><span class="line"></span><br><span class="line">	public ArithmeticCalculatorLoggingProxy(ArithmeticCalculator target) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated constructor stub</span><br><span class="line">		this.target &#x3D; target;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public ArithmeticCalculator getLoggingProxy() &#123;</span><br><span class="line"></span><br><span class="line">		ArithmeticCalculator proxy &#x3D; null;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;代理器由哪一个类加载器负责加载</span><br><span class="line">		ClassLoader loader &#x3D; target.getClass().getClassLoader();</span><br><span class="line">		&#x2F;&#x2F;代理对象的类型 其中有哪些方法</span><br><span class="line">		Class [] interfaces &#x3D; new Class[] &#123;ArithmeticCalculator.class&#125;;</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F; 当调用代理对象其中的方法时 该执行的代码在这里面</span><br><span class="line">		InvocationHandler h &#x3D;new InvocationHandler() &#123;</span><br><span class="line">			&#x2F;**</span><br><span class="line">			 *</span><br><span class="line">			 * proxy:正在返回的对象，一般情况下，在invoke 方法中都不使用该对象。</span><br><span class="line">			 * method: 正在被调用的方法</span><br><span class="line">			 * args: 调用方法时，传入的参数</span><br><span class="line">			 *&#x2F;</span><br><span class="line">			@Override</span><br><span class="line">			public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line">				&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">				String methodName &#x3D; method.getName();</span><br><span class="line">				&#x2F;&#x2F;日志</span><br><span class="line">				System.out.println(&quot;The method&quot;+&quot; &quot;+ methodName +&quot; &quot;+&quot;begin with&quot; + Arrays.asList(args));</span><br><span class="line">				&#x2F;&#x2F;执行</span><br><span class="line">				Object resuObject &#x3D; method.invoke(target, args);</span><br><span class="line">				&#x2F;&#x2F;日志</span><br><span class="line">				System.out.println(&quot;The method &quot;+ &quot; &quot;+ methodName +&quot; &quot;+ &quot;end with&quot; + resuObject);</span><br><span class="line">				return resuObject;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br><span class="line">		proxy &#x3D; (ArithmeticCalculator) Proxy.newProxyInstance(loader, interfaces, h);</span><br><span class="line">		return proxy;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="主方法"><a href="#主方法" class="headerlink" title="主方法"></a>主方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.helloworld;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		&#x2F;&#x2F; 使用动态代理</span><br><span class="line">		ArithmeticCalculator target &#x3D; new ArithmeticCalculatorImpl();</span><br><span class="line">		ArithmeticCalculator proxy &#x3D; new ArithmeticCalculatorLoggingProxy(target).getLoggingProxy();</span><br><span class="line">		int result &#x3D; proxy.add(1, 2);</span><br><span class="line">		System.out.println(&quot;--&gt;&quot;+ result);</span><br><span class="line">		proxy.div(4, 2);</span><br><span class="line">		System.out.println(&quot;--&gt;&quot;+ result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="在-Spring-中启用-AspectJ-注解支持源码"><a href="#在-Spring-中启用-AspectJ-注解支持源码" class="headerlink" title="在 Spring 中启用 AspectJ 注解支持源码"></a><h id="1.1.1.3">在 Spring 中启用 AspectJ 注解支持源码</h></h3><h4 id="首先导入如图所示的包"><a href="#首先导入如图所示的包" class="headerlink" title="首先导入如图所示的包"></a>首先导入如图所示的包</h4><p><img src="/posts/2e9ad068/1-3-1.png"></p><h4 id="创建包com-atguigu-spring-aop-impl"><a href="#创建包com-atguigu-spring-aop-impl" class="headerlink" title="创建包com.atguigu.spring.aop.impl"></a>创建包com.atguigu.spring.aop.impl</h4><h4 id="创建接口文件ArithmeticCalculator-java"><a href="#创建接口文件ArithmeticCalculator-java" class="headerlink" title="创建接口文件ArithmeticCalculator.java"></a>创建接口文件ArithmeticCalculator.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.impl;</span><br><span class="line"></span><br><span class="line">public interface ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	int add(int i,int j);</span><br><span class="line">	int sub(int i,int j);</span><br><span class="line">	int mul(int i,int j);</span><br><span class="line">	int div(int i,int j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ArithmeticCalculatorImpl-java"><a href="#ArithmeticCalculatorImpl-java" class="headerlink" title="ArithmeticCalculatorImpl.java"></a>ArithmeticCalculatorImpl.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.impl;</span><br><span class="line"></span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">@Component</span><br><span class="line">public class ArithmeticCalculatorImpl implements ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int add(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i+j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int sub(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i-j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int mul(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i*j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int div(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i&#x2F;j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="LoggingAspect-java"><a href="#LoggingAspect-java" class="headerlink" title="LoggingAspect.java"></a>LoggingAspect.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.impl;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.After;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;把这个类声明成一个切面：需要把该类放入到IOC容器中，再声明为一个切面</span><br><span class="line">@Component</span><br><span class="line">@Aspect</span><br><span class="line">public class LoggingAspect &#123;</span><br><span class="line">	&#x2F;&#x2F;声明该方法是一个前置通知 : 在目标方法开始之前执行</span><br><span class="line">	@Before(&quot;execution(public int com.atguigu.spring.aop.impl.ArithmeticCalculator.*(int,int))&quot;)</span><br><span class="line">	public void beforemethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		List&lt;Object&gt; argsList&#x3D; Arrays.asList(joinPoint.getArgs());</span><br><span class="line"></span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName + &quot;begins with&quot; + argsList);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;&#x2F;后置通知: 在目标方法执行后(无论是否发生异常)，执行通知</span><br><span class="line">	&#x2F;&#x2F;在后置通知中还不能访问目标方法的执行结果</span><br><span class="line">	@After(&quot;execution(* com.atguigu.spring.aop.impl.*.*(int,int))&quot;)</span><br><span class="line">	public void afterMethod(JoinPoint joinPoint) &#123;</span><br><span class="line"></span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The Method &quot;+ methodName +&quot; ends&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="applicationContext-xml"><a href="#applicationContext-xml" class="headerlink" title="applicationContext.xml"></a>applicationContext.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">	xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">	xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">		http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context-4.3.xsd</span><br><span class="line">		http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop-4.3.xsd&quot;&gt;</span><br><span class="line">	&lt;!-- 配置自动扫描的包 --&gt;</span><br><span class="line">	&lt;context:component-scan base-package&#x3D;&quot;com.atguigu.spring.aop.impl&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">	&lt;!-- 使AspectJ 注解起作用：自动为匹配的可生成代理对象 --&gt;</span><br><span class="line">	&lt;aop:aspectj-autoproxy&gt;&lt;&#x2F;aop:aspectj-autoproxy&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;beans&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Main-java"><a href="#Main-java" class="headerlink" title="Main.java"></a>Main.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.impl;</span><br><span class="line"></span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		&#x2F;&#x2F;1.创建Spring的IOC容器</span><br><span class="line">		ApplicationContext ctx &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;2.从IOC容器中获取Bean实例</span><br><span class="line">		ArithmeticCalculator arithmeticCalculator &#x3D; ctx.getBean(ArithmeticCalculator.class);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		&#x2F;&#x2F;3.使用Bean</span><br><span class="line">		int result &#x3D; arithmeticCalculator.add(3, 6);</span><br><span class="line">		System.out.println(&quot;result:&quot; + result);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		result &#x3D; arithmeticCalculator.div(12, 6);&#x2F;&#x2F;这里即使是除以0也会有后置通知，只不过result没有值</span><br><span class="line">		System.out.println(&quot;result:&quot; + result);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="运行结果"><a href="#运行结果" class="headerlink" title="运行结果"></a>运行结果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">The method addbegins with[3, 6]</span><br><span class="line">The Method add ends</span><br><span class="line">result:9</span><br><span class="line">The method divbegins with[12, 6]</span><br><span class="line">The Method div ends</span><br><span class="line">result:2</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="返回通知，异常那通知，后置通知源码-4"><a href="#返回通知，异常那通知，后置通知源码-4" class="headerlink" title="返回通知，异常那通知，后置通知源码"></a><h id="1.1.1.4">返回通知，异常那通知，后置通知源码</h></h3><h4 id="创建一个新的包com-atguigu-spring-aop"><a href="#创建一个新的包com-atguigu-spring-aop" class="headerlink" title="创建一个新的包com.atguigu.spring.aop"></a>创建一个新的包com.atguigu.spring.aop</h4><h4 id="接口ArithmeticCalculator-java"><a href="#接口ArithmeticCalculator-java" class="headerlink" title="接口ArithmeticCalculator.java"></a>接口ArithmeticCalculator.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">public interface ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	int add(int i,int j);</span><br><span class="line">	int sub(int i,int j);</span><br><span class="line">	int mul(int i,int j);</span><br><span class="line">	int div(int i,int j);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ArithmeticCalculatorImpl-java-1"><a href="#ArithmeticCalculatorImpl-java-1" class="headerlink" title="ArithmeticCalculatorImpl.java"></a>ArithmeticCalculatorImpl.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">@Component(&quot;arithmeticCalculator&quot;)</span><br><span class="line">public class ArithmeticCalculatorImpl implements ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int add(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i+j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int sub(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i-j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int mul(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i*j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int div(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i&#x2F;j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="LoggingAspect-java-1"><a href="#LoggingAspect-java-1" class="headerlink" title="LoggingAspect.java"></a>LoggingAspect.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.After;</span><br><span class="line">import org.aspectj.lang.annotation.AfterReturning;</span><br><span class="line">import org.aspectj.lang.annotation.AfterThrowing;</span><br><span class="line">import org.aspectj.lang.annotation.Around;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class LoggingAspect &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 在com.atguigu.spring.aop.ArithmeticCalculator 接口的每一个实现类的每一个方法开始之前执行一段代码</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@Before(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public void beforeMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		Object[] args &#x3D; joinPoint.getArgs();</span><br><span class="line"></span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; begins with &quot;+Arrays.asList(args));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**后置通知</span><br><span class="line">	 * 在方法执行之后执行的代码，无论该方法是否出现异常</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@After(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public void afterMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 在方法正常结束受执行的代码</span><br><span class="line">	 * 返回通知是可以访问到方法的返回值的</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@AfterReturning(value&#x3D;&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;,</span><br><span class="line">			returning&#x3D;&quot;result&quot;)</span><br><span class="line">	public void afterReturning(JoinPoint joinPoint,Object result) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends with &quot;+result);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 异常通知，在出异常的时候才会出现，例如div的时候除以0等</span><br><span class="line">	 * 可以访问到异常对象；且可以指定在出现特定异常时在执行通知代码</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@AfterThrowing(value&#x3D;&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;,</span><br><span class="line">			throwing&#x3D;&quot;ex&quot;)</span><br><span class="line">	&#x2F;&#x2F;可以将Exception换成NullPointerException则只有空指针异常时才执行</span><br><span class="line">	public void afterThrowing(JoinPoint joinPoint,Exception ex) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+ex);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 环绕通知是最强的，但却不是最常用的</span><br><span class="line">	 * 环绕通知需要携带ProceedingJoinPoint类型的参数，</span><br><span class="line">	 * 环绕通知类似于动态代理的全过程：ProceedingJoinPoint 类型的参数可以决定是否执行目标方法</span><br><span class="line">	 * 环绕通知必须有返回值，返回值即为目标方法的返回值</span><br><span class="line">	 * @param pjdJoinPoint</span><br><span class="line">	 *&#x2F;</span><br><span class="line">&#x2F;*</span><br><span class="line">	@Around(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public Object aroundMethod(ProceedingJoinPoint pjdJoinPoint) &#123;</span><br><span class="line"></span><br><span class="line">		Object result &#x3D; null;</span><br><span class="line">		String methodName &#x3D; pjdJoinPoint.getSignature().getName();</span><br><span class="line">		  &#x2F;&#x2F;这下面写的几种通知和上面效果一样，因此打印的时候会打印两遍</span><br><span class="line">		&#x2F;&#x2F;执行目标方法</span><br><span class="line">		try &#123;</span><br><span class="line">			&#x2F;&#x2F;前置通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; beging with &quot;+Arrays.asList(pjdJoinPoint.getArgs()));</span><br><span class="line">			result &#x3D; pjdJoinPoint.proceed();</span><br><span class="line">			&#x2F;&#x2F;返回通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		&#125; catch (Throwable e) &#123;</span><br><span class="line">			&#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			&#x2F;&#x2F;异常通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+e);</span><br><span class="line">			throw new RuntimeException(e);</span><br><span class="line">		&#125;</span><br><span class="line">		&#x2F;&#x2F;后置通知</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="applicationContext-xml-1"><a href="#applicationContext-xml-1" class="headerlink" title="applicationContext.xml"></a>applicationContext.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">	xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">	xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">		http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context-4.3.xsd</span><br><span class="line">		http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop-4.3.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 配置自动扫描的包 --&gt;</span><br><span class="line">	&lt;context:component-scan base-package&#x3D;&quot;com.atguigu.spring.aop&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 配置自动为匹配aspectj 注释的java类生成对象 --&gt;</span><br><span class="line">&lt;aop:aspectj-autoproxy&gt;&lt;&#x2F;aop:aspectj-autoproxy&gt;</span><br><span class="line"></span><br><span class="line">&lt;&#x2F;beans&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Main-java-1"><a href="#Main-java-1" class="headerlink" title="Main.java"></a>Main.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import org.springframework.context.ApplicationContext;</span><br><span class="line">import org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line">public class Main &#123;</span><br><span class="line"></span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		ApplicationContext ctxApplicationContext &#x3D; new ClassPathXmlApplicationContext(&quot;applicationContext.xml&quot;);</span><br><span class="line">		&#x2F;&#x2F;getBean()里是component里填的内容</span><br><span class="line">		ArithmeticCalculator arithmeticCalculator &#x3D; (ArithmeticCalculator) ctxApplicationContext.getBean(&quot;arithmeticCalculator&quot;);</span><br><span class="line">		&#x2F;&#x2F;看有没有被代理</span><br><span class="line">		System.out.println(arithmeticCalculator.getClass().getName());</span><br><span class="line"></span><br><span class="line">		int result &#x3D; arithmeticCalculator.add(1, 2);</span><br><span class="line">		System.out.println(&quot;result:&quot; + result);</span><br><span class="line"></span><br><span class="line">		result &#x3D; arithmeticCalculator.div(10, 2);&#x2F;&#x2F;这里即使是除以0也会有后置通知，只不过result没有值</span><br><span class="line">		System.out.println(&quot;result:&quot; + result);</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="运行结果-1"><a href="#运行结果-1" class="headerlink" title="运行结果"></a>运行结果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">com.sun.proxy.$Proxy19</span><br><span class="line">The method add begins with [1, 2]</span><br><span class="line">The method add ends</span><br><span class="line">The method add ends with 3</span><br><span class="line">result:3</span><br><span class="line">The method div begins with [10, 2]</span><br><span class="line">The method div ends</span><br><span class="line">The method div ends with 5</span><br><span class="line">result:5</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="设置切面优先级源码"><a href="#设置切面优先级源码" class="headerlink" title="设置切面优先级源码"></a><h id="1.1.1.5">设置切面优先级源码</h></h3><h4 id="VlidationAspect-java"><a href="#VlidationAspect-java" class="headerlink" title="VlidationAspect.java"></a>VlidationAspect.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.core.annotation.Order;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;验证切面,用于指定切面的优先级</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 可以使用@Order指定切面的优先级，值越小优先级越高</span><br><span class="line"> *</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">@Order(1)</span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class VlidationAspect &#123;</span><br><span class="line"></span><br><span class="line">	@Before(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public void vlidationAspect(JoinPoint joinPoint) &#123;</span><br><span class="line">		System.out.println(&quot;validate: &quot;+ Arrays.asList(joinPoint.getArgs()));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="在之前的切面文件LoggingAspect-java-加上-Order-2-注解"><a href="#在之前的切面文件LoggingAspect-java-加上-Order-2-注解" class="headerlink" title="在之前的切面文件LoggingAspect.java 加上@Order(2)注解"></a>在之前的切面文件LoggingAspect.java 加上@Order(2)注解</h4><h4 id="测试结果-1"><a href="#测试结果-1" class="headerlink" title="测试结果"></a>测试结果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">com.sun.proxy.$Proxy20</span><br><span class="line">validate: [1, 2]</span><br><span class="line">The method add begins with [1, 2]</span><br><span class="line">The method add ends</span><br><span class="line">The method add ends with 3</span><br><span class="line">result:3</span><br><span class="line">validate: [10, 2]</span><br><span class="line">The method div begins with [10, 2]</span><br><span class="line">The method div ends</span><br><span class="line">The method div ends with 5</span><br><span class="line">result:5</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="重用切入点源码"><a href="#重用切入点源码" class="headerlink" title="重用切入点源码"></a><h id="1.1.1.6">重用切入点源码</h></h3><h4 id="将LoggingAspect-java做如下修改"><a href="#将LoggingAspect-java做如下修改" class="headerlink" title="将LoggingAspect.java做如下修改"></a>将LoggingAspect.java做如下修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.After;</span><br><span class="line">import org.aspectj.lang.annotation.AfterReturning;</span><br><span class="line">import org.aspectj.lang.annotation.AfterThrowing;</span><br><span class="line">import org.aspectj.lang.annotation.Around;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.aspectj.lang.annotation.Pointcut;</span><br><span class="line">import org.springframework.core.annotation.Order;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * 可以使用@Order指定切面的优先级，值越小优先级越高</span><br><span class="line"> *</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">@Order(2)</span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class LoggingAspect &#123;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 定义一个方法用于声明切入点表达式。一般该方法中不需要添加其他的代码</span><br><span class="line">	 * 使用@Pointcut来声明切入点表达式</span><br><span class="line">   * 后面的其他通知直接使用方法名来引用当前的切入点表达式。别的包的如需引用前面需要加上包名</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@Pointcut(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public void declareJointPointExpression() &#123;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 在com.atguigu.spring.aop.ArithmeticCalculator 接口的每一个实现类的每一个方法开始之前执行一段代码</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@Before(&quot;declareJointPointExpression()&quot;)</span><br><span class="line">	public void beforeMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		Object[] args &#x3D; joinPoint.getArgs();</span><br><span class="line"></span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; begins with &quot;+Arrays.asList(args));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**后置通知</span><br><span class="line">	 * 在方法执行之后执行的代码，无论该方法是否出现异常</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@After(&quot;declareJointPointExpression()&quot;)</span><br><span class="line">	public void afterMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 在方法正常结束受执行的代码</span><br><span class="line">	 * 返回通知是可以访问到方法的返回值的</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@AfterReturning(value&#x3D;&quot;declareJointPointExpression()&quot;,</span><br><span class="line">			returning&#x3D;&quot;result&quot;)</span><br><span class="line">	public void afterReturning(JoinPoint joinPoint,Object result) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends with &quot;+result);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 异常通知，在出异常的时候才会出现，例如div的时候除以0等</span><br><span class="line">	 * 可以访问到异常对象；且可以指定在出现特定异常时在执行通知代码</span><br><span class="line">	 *&#x2F;</span><br><span class="line">	@AfterThrowing(value&#x3D;&quot;declareJointPointExpression()&quot;,</span><br><span class="line">			throwing&#x3D;&quot;ex&quot;)</span><br><span class="line">	&#x2F;&#x2F;可以将Exception换成NullPointerException则只有空指针异常时才执行</span><br><span class="line">	public void afterThrowing(JoinPoint joinPoint,Exception ex) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+ex);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	&#x2F;**</span><br><span class="line">	 * 环绕通知是最强的，但却不是最常用的</span><br><span class="line">	 * 环绕通知需要携带ProceedingJoinPoint类型的参数，</span><br><span class="line">	 * 环绕通知类似于动态代理的全过程：ProceedingJoinPoint 类型的参数可以决定是否执行目标方法</span><br><span class="line">	 * 环绕通知必须有返回值，返回值即为目标方法的返回值</span><br><span class="line">	 * @param pjdJoinPoint</span><br><span class="line">	 *&#x2F;</span><br><span class="line">&#x2F;*</span><br><span class="line">	@Around(&quot;execution(public int com.atguigu.spring.aop.ArithmeticCalculator.*(..))&quot;)</span><br><span class="line">	public Object aroundMethod(ProceedingJoinPoint pjdJoinPoint) &#123;</span><br><span class="line"></span><br><span class="line">		Object result &#x3D; null;</span><br><span class="line">		String methodName &#x3D; pjdJoinPoint.getSignature().getName();</span><br><span class="line">		  &#x2F;&#x2F;这下面写的几种通知和上面效果一样，因此打印的时候会打印两遍</span><br><span class="line">		&#x2F;&#x2F;执行目标方法</span><br><span class="line">		try &#123;</span><br><span class="line">			&#x2F;&#x2F;前置通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; beging with &quot;+Arrays.asList(pjdJoinPoint.getArgs()));</span><br><span class="line">			result &#x3D; pjdJoinPoint.proceed();</span><br><span class="line">			&#x2F;&#x2F;返回通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		&#125; catch (Throwable e) &#123;</span><br><span class="line">			&#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			&#x2F;&#x2F;异常通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+e);</span><br><span class="line">			throw new RuntimeException(e);</span><br><span class="line">		&#125;</span><br><span class="line">		&#x2F;&#x2F;后置通知</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">*&#x2F;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="将VlidationAspect-java做如下修改"><a href="#将VlidationAspect-java做如下修改" class="headerlink" title="将VlidationAspect.java做如下修改"></a>将VlidationAspect.java做如下修改</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.annotation.Aspect;</span><br><span class="line">import org.aspectj.lang.annotation.Before;</span><br><span class="line">import org.springframework.core.annotation.Order;</span><br><span class="line">import org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;验证切面,用于指定切面的优先级</span><br><span class="line">&#x2F;**</span><br><span class="line"> * 可以使用@Order指定切面的优先级，值越小优先级越高</span><br><span class="line"> *</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line"></span><br><span class="line">@Order(1)</span><br><span class="line">@Aspect</span><br><span class="line">@Component</span><br><span class="line">public class VlidationAspect &#123;</span><br><span class="line"></span><br><span class="line">	@Before(&quot;com.atguigu.spring.aop.LoggingAspect.declareJointPointExpression()&quot;)</span><br><span class="line">	public void vlidationAspect(JoinPoint joinPoint) &#123;</span><br><span class="line">		System.out.println(&quot;validate: &quot;+ Arrays.asList(joinPoint.getArgs()));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="基于XML的配置声明切面的测试代码"><a href="#基于XML的配置声明切面的测试代码" class="headerlink" title="基于XML的配置声明切面的测试代码"></a><h id="1.1.1.7">基于XML的配置声明切面的测试代码</h></h3><h4 id="新建包com-atguigu-spring-aop-xml"><a href="#新建包com-atguigu-spring-aop-xml" class="headerlink" title="新建包com.atguigu.spring.aop.xml"></a>新建包com.atguigu.spring.aop.xml</h4><h4 id="ArithmeticCalculator-java"><a href="#ArithmeticCalculator-java" class="headerlink" title="ArithmeticCalculator.java"></a>ArithmeticCalculator.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.xml;</span><br><span class="line"></span><br><span class="line">public interface ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	int add(int i,int j);</span><br><span class="line">	int sub(int i,int j);</span><br><span class="line">	int mul(int i,int j);</span><br><span class="line">	int div(int i,int j);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ArithmeticCalculatorImpl-java-2"><a href="#ArithmeticCalculatorImpl-java-2" class="headerlink" title="ArithmeticCalculatorImpl.java"></a>ArithmeticCalculatorImpl.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.xml;</span><br><span class="line"></span><br><span class="line">public class ArithmeticCalculatorImpl implements ArithmeticCalculator &#123;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int add(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i+j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int sub(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i-j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int mul(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i*j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	@Override</span><br><span class="line">	public int div(int i, int j) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line">		int result &#x3D; i&#x2F;j;</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="LoggingAspect-java-2"><a href="#LoggingAspect-java-2" class="headerlink" title="LoggingAspect.java"></a>LoggingAspect.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.xml;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line">import org.aspectj.lang.ProceedingJoinPoint;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class LoggingAspect &#123;</span><br><span class="line"></span><br><span class="line">	public void beforeMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		&#x2F;&#x2F; TODO Auto-generated method stub</span><br><span class="line"></span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		Object[] args &#x3D; joinPoint.getArgs();</span><br><span class="line"></span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; begins with &quot;+Arrays.asList(args));</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public void afterMethod(JoinPoint joinPoint) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	public void afterReturning(JoinPoint joinPoint,Object result) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends with &quot;+result);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	public void afterThrowing(JoinPoint joinPoint,Exception ex) &#123;</span><br><span class="line">		String methodName &#x3D; joinPoint.getSignature().getName();</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+ex);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	public Object aroundMethod(ProceedingJoinPoint pjdJoinPoint) &#123;</span><br><span class="line"></span><br><span class="line">		Object result &#x3D; null;</span><br><span class="line">		String methodName &#x3D; pjdJoinPoint.getSignature().getName();</span><br><span class="line">		  &#x2F;&#x2F;这下面写的几种通知和上面效果一样，因此打印的时候会打印两遍</span><br><span class="line">		&#x2F;&#x2F;执行目标方法</span><br><span class="line">		try &#123;</span><br><span class="line">			&#x2F;&#x2F;前置通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; beging with &quot;+Arrays.asList(pjdJoinPoint.getArgs()));</span><br><span class="line">			result &#x3D; pjdJoinPoint.proceed();</span><br><span class="line">			&#x2F;&#x2F;返回通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		&#125; catch (Throwable e) &#123;</span><br><span class="line">			&#x2F;&#x2F; TODO Auto-generated catch block</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">			&#x2F;&#x2F;异常通知</span><br><span class="line">			System.out.println(&quot;The method &quot;+ methodName+&quot; occurs excetion: &quot;+e);</span><br><span class="line">			throw new RuntimeException(e);</span><br><span class="line">		&#125;</span><br><span class="line">		&#x2F;&#x2F;后置通知</span><br><span class="line">		System.out.println(&quot;The method &quot;+ methodName+&quot; ends&quot; +result);</span><br><span class="line">		return result;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="VlidationAspect-java-1"><a href="#VlidationAspect-java-1" class="headerlink" title="VlidationAspect.java"></a>VlidationAspect.java</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package com.atguigu.spring.aop.xml;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line"></span><br><span class="line">import org.aspectj.lang.JoinPoint;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class VlidationAspect &#123;</span><br><span class="line"></span><br><span class="line">	public void validateArgs(JoinPoint joinPoint) &#123;</span><br><span class="line">		System.out.println(&quot;validate: &quot;+ Arrays.asList(joinPoint.getArgs()));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="applicationContext-xml-xml"><a href="#applicationContext-xml-xml" class="headerlink" title="applicationContext-xml.xml"></a>applicationContext-xml.xml</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">	xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">	xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">	xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">		http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop-4.3.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 配置Bean --&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;arithmeticCalculator&quot; class&#x3D;&quot;com.atguigu.spring.aop.xml.ArithmeticCalculatorImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;!-- 配置切面的bean --&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;loggingAspect&quot; class&#x3D;&quot;com.atguigu.spring.aop.xml.LoggingAspect&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">	&lt;bean id&#x3D;&quot;vlidationAspect&quot; class&#x3D;&quot;com.atguigu.spring.aop.xml.VlidationAspect&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;!-- 配置AOP --&gt;</span><br><span class="line">	&lt;aop:config&gt;</span><br><span class="line">		&lt;!-- 配置切点表达式 --&gt;</span><br><span class="line">		&lt;aop:pointcut expression&#x3D;&quot;execution(* com.atguigu.spring.aop.xml.ArithmeticCalculator.*(int,int))&quot; id&#x3D;&quot;pointcut&quot;&#x2F;&gt;</span><br><span class="line">		&lt;!-- 配置切面及通知 --&gt;</span><br><span class="line">		&lt;aop:aspect ref&#x3D;&quot;loggingAspect&quot; order&#x3D;&quot;2&quot;&gt;</span><br><span class="line">			&lt;aop:before method&#x3D;&quot;beforeMethod&quot; pointcut-ref&#x3D;&quot;pointcut&quot;&#x2F;&gt;</span><br><span class="line">			&lt;aop:after method&#x3D;&quot;afterMethod&quot; pointcut-ref&#x3D;&quot;pointcut&quot;&#x2F;&gt;</span><br><span class="line">			&lt;aop:after-throwing method&#x3D;&quot;afterThrowing&quot; pointcut-ref&#x3D;&quot;pointcut&quot; throwing&#x3D;&quot;ex&quot;&#x2F;&gt;</span><br><span class="line">			&lt;aop:after-returning method&#x3D;&quot;afterReturning&quot; pointcut-ref&#x3D;&quot;pointcut&quot; returning&#x3D;&quot;result&quot;&#x2F;&gt;</span><br><span class="line">			 &lt;!--</span><br><span class="line">			 &lt;aop:around method&#x3D;&quot;aroundMethod&quot; pointcut-ref&#x3D;&quot;pointcut&quot;&#x2F;&gt;</span><br><span class="line">			 --&gt;</span><br><span class="line">		&lt;&#x2F;aop:aspect&gt;</span><br><span class="line">		&lt;aop:aspect ref&#x3D;&quot;vlidationAspect&quot; order&#x3D;&quot;1&quot;&gt;</span><br><span class="line">			&lt;aop:before method&#x3D;&quot;validateArgs&quot; pointcut-ref&#x3D;&quot;pointcut&quot;&#x2F;&gt;</span><br><span class="line">		&lt;&#x2F;aop:aspect&gt;</span><br><span class="line">	&lt;&#x2F;aop:config&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="测试结果-2"><a href="#测试结果-2" class="headerlink" title="测试结果"></a>测试结果</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">com.sun.proxy.$Proxy4</span><br><span class="line">validate: [1, 2]</span><br><span class="line">The method add begins with [1, 2]</span><br><span class="line">The method add ends</span><br><span class="line">The method add ends with 3</span><br><span class="line">result:3</span><br><span class="line">validate: [10, 2]</span><br><span class="line">The method div begins with [10, 2]</span><br><span class="line">The method div ends</span><br><span class="line">The method div ends with 5</span><br><span class="line">result:5</span><br><span class="line"></span><br></pre></td></tr></table></figure></div><div class="article-footer"><blockquote class="mt-2x"><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>本文链接：</strong> <a href="http://www.studyz.club/posts/2e9ad068/" title="软件开发框架之spring-AOP" target="_blank" rel="external">http://www.studyz.club/posts/2e9ad068/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external nofollow noopener noreferrer">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！</li></ul></blockquote><div class="panel panel-default panel-badger"><div class="panel-body"><figure class="media"><div class="media-left"><a href="https://github.com/pushName" target="_blank" class="img-burn thumb-sm visible-lg" rel="external nofollow noopener noreferrer"><img src="/images/avatar.jpg" class="img-rounded w-full" alt></a></div><div class="media-body"><h3 class="media-heading"><a href="https://github.com/pushName" target="_blank" rel="external nofollow noopener noreferrer"><span class="text-dark">阿智</span><small class="ml-1x">BigData</small></a></h3><div>个人简介。</div></div></figure></div></div></div></article><section id="comments"><div id="vcomments"></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class="bar-inner"><ul class="pager pull-left"><li class="prev"><a href="/posts/dd30942e/" title="软件开发框架之spring-JDBC"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a></li><li class="next"><a href="/posts/4aec9fb8/" title="软件开发框架之spring二"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a></li></ul><button type="button" class="btn btn-fancy btn-donate pop-onhover bg-gradient-warning" data-toggle="modal" data-target="#donateModal"><span>赏</span></button><div class="bar-right"><div class="share-component" data-sites="weibo,qq,wechat,facebook,twitter" data-mobile-sites="weibo,qq,qzone"></div></div></div></nav><div class="modal modal-center modal-small modal-xs-full fade" id="donateModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content donate"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><div class="modal-body"><div class="donate-box"><div class="donate-head"><p>感谢您的支持，我会继续努力的!</p></div><div class="tab-content"><div role="tabpanel" class="tab-pane fade active in" id="alipay"><div class="donate-payimg"><img src="/images/donate/alipayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开支付宝扫一扫，即可进行扫码打赏哦</p></div><div role="tabpanel" class="tab-pane fade" id="wechatpay"><div class="donate-payimg"><img src="/images/donate/wechatpayimg.png" alt="扫码支持" title="扫一扫"></div><p class="text-muted mv">扫码打赏，你说多少就多少</p><p class="text-grey">打开微信扫一扫，即可进行扫码打赏哦</p></div></div><div class="donate-footer"><ul class="nav nav-tabs nav-justified" role="tablist"><li role="presentation" class="active"><a href="#alipay" id="alipay-tab" role="tab" data-toggle="tab" aria-controls="alipay" aria-expanded="true"><i class="icon icon-alipay"></i> 支付宝</a></li><li role="presentation"><a href="#wechatpay" role="tab" id="wechatpay-tab" data-toggle="tab" aria-controls="wechatpay" aria-expanded="false"><i class="icon icon-wepay"></i> 微信支付</a></li></ul></div></div></div></div></div></div></main><footer class="footer" itemscope itemtype="http://schema.org/WPFooter"><ul class="social-links"><li><a href="https://github.com/pushName" target="_blank" title="Github" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-github"></i></a></li><li><a href="https://weibo.com/5966656169/profile?topnav=1&wvr=6&is_all=1" target="_blank" title="Weibo" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-weibo"></i></a></li><li><a href="https://twitter.com" target="_blank" title="Twitter" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-twitter"></i></a></li><li><a href="https://www.behance.net/" target="_blank" title="Behance" data-toggle="tooltip" data-placement="top" rel="external nofollow noopener noreferrer"><i class="icon icon-behance"></i></a></li><li><a href="/atom.xml" target="_blank" title="Rss" data-toggle="tooltip" data-placement="top"><i class="icon icon-rss"></i></a></li></ul><div class="copyright">&copy; 2021 阿智<div class="publishby">Theme by <a href="https://github.com/cofess" target="_blank" rel="external nofollow noopener noreferrer">cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank" rel="external nofollow noopener noreferrer">pure</a>.</div></div></footer><script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script><script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script src="/js/plugin.min.js"></script><script src="/js/application.js"></script><script>window.INSIGHT_CONFIG={TRANSLATION:{POSTS:"文章",PAGES:"页面",CATEGORIES:"分类",TAGS:"标签",UNTITLED:"(未命名)"},ROOT_URL:"/",CONTENT_URL:"/content.json"}</script><script src="/js/insight.js"></script><script>!function(w){w(".search-form").on("submit",function(n){var t=w('.search-form-input[name="wd"]').val();return window.location="https://www.baidu.com/s?wd=site:www.studyz.club "+t,!1})}(jQuery)</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//cdn.jsdelivr.net/npm/valine"></script><script type="text/javascript">var GUEST=["nick","mail","link"],meta=(meta="nick,mail,link").split(",").filter(function(e){return-1<GUEST.indexOf(e)});new Valine({el:"#vcomments",verify:"false",notify:"true",appId:"DJHtEILWubeHTVMtbHDl3w3r-gzGzoHsz",appKey:"IjLboSjrAXR7ziKvARXWCbmu",placeholder:"Just go go",avatar:"mm",meta:meta,pageSize:"10",visitor:"false"})</script><script defer type="text/javascript">!function(e,a,t,n,g,c){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=+new Date,g=a.createElement(t),c=a.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(g,c)}(window,document,"script","ga"),ga("create","true","auto"),ga("send","pageview")</script><script defer>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?true";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script defer type="text/javascript" src="//tajs.qq.com/stats?sId=true" charset="UTF-8"></script><script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script></body></html>